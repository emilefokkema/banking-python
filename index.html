<html>
	<head>
		<title>Process my banking statements</title>
		<script src="https://cdn.jsdelivr.net/npm/vue"></script>
		<script src="index.js"></script>
		<!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
		<link rel="stylesheet" type="text/css" href="index.css">
	</head>
	<body>

		<script type="text/template" id="categoryTemplate">
			<div class="category" v-bind:class="{collapsed:collapsed,'category-top':top}">
				<span v-bind:class="{'toggle-collapse':!isSimple}" v-on:click="toggleCollapse">
					<span class="neither" v-if="isSimple"></span>
					<template v-else>
						<span class="plus"></span>
						<span class="minus"></span>
					</template>
					{{categoryData.name}}: <amount v-bind:numberOfCents="categoryData.total"></amount>
				</span>
				<div class="category-set" v-if="!isSimple">
					<category v-for="category in categories" v-bind:categoryData="category" v-bind:top="false"></category>
					<row v-for="row in rows" v-bind:row="row"></row>
					<transaction v-for="transaction in transactions" v-bind:transaction="transaction"></transaction>
					<pinnen-transaction v-for="pinnenTransaction in pinnenTransactions" v-bind:pinnenTransaction="pinnenTransaction"></pinnen-transaction>
				</div>
			</div>
		</script>
		<script type="text/template" id="periodItemTemplate">
			<div class="period-list-item">
				<div>van <date v-bind:date="from"></date> t/m <date v-bind:date="through"></date> <span v-if="!hasEnd">(niet compleet)</span></div>
				<category v-bind:top="true" v-bind:categoryData="bij"></category>
				<category v-bind:top="true" v-bind:categoryData="af"></category>
			</div>
		</script>
		<script type="text/template" id="rowTemplate">
			<div class="row" v-bind:title="row.info">
				<date v-bind:date="row.date"></date> {{row.description}} <amount v-bind:numberOfCents="row.amount"></amount>
			</div>
		</script>
		<script type="text/template" id="transactionTemplate">
			<div class="row">
				<date v-bind:date="transaction.date"></date> {{transaction.naam}} {{transaction.omschrijving}} <amount v-bind:numberOfCents="transaction.amount"></amount>
			</div>
		</script>
		<script type="text/template" id="pinnenTransactionTemplate">
			<div class="row">
				<date v-bind:date="pinnenTransaction.date"></date> {{pinnenTransaction.naam}} <amount v-bind:numberOfCents="pinnenTransaction.amount"></amount>
			</div>
		</script>
		<div id="app">
			<div>
				<div class="period-list-item empty" v-if="completePeriods.length == 0">(no history)</div>
				<period-item v-for="period in completePeriods" v-bind:from="period.from" v-bind:through="period.through" v-bind:has-end="period.hasEnd" v-bind:af="period.Af" v-bind:bij="period.Bij"></period-item>
			</div>
			<div>
				<period-item v-for="period in incompletePeriods" v-bind:from="period.from" v-bind:through="period.through" v-bind:has-end="period.hasEnd" v-bind:af="period.Af" v-bind:bij="period.Bij"></period-item>
			</div>
			<div>
				<input type="file" ref="file" accept=".csv" />
				<input type="button" value="submit" v-on:click="postCsv" />
			</div>
		</div>
	</body>
</html>